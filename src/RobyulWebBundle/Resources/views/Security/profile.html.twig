{% extends "RobyulWebBundle:Default:base.html.twig" %}

{% block content %}
    <div class="row">
        <div class="col-12 col-md-2">
            <img class="profile-big-avatar" src="{{ app.user.avatarUrl }}?size=256">
        </div>
        <div class="col-12 col-md-4">
            <h1>{{ app.user.discordUsername }}</h1>
            <p>You are in <b>{{ memberOfGuilds|length }} servers</b> with Robyul.</p>
        </div>
        <div class="col-12 col-md-6">
            <iframe width="400" height="300" frameborder="0" scrolling="no" src="{{ path('robyulweb_frame_profile',
            {'userID': app.user.id, 'guildID': 'global'}) }}"></iframe>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <ul class="list-inline" style="margin-top: 1rem;">
                {% for guild in memberOfGuilds %}
                    <li class="list-inline-item server-tile-item" data-profile-iframe-url="{{ path('robyulweb_frame_profile',
                    {'userID': app.user.id, 'guildID': guild.ID}) }}" style="width: 128px;">
                        <h5 style="text-align: center;">{{ guild.Name }}</h5>
                        {% if guild.Icon != "" %}
                            <img class="profile-big-avatar"
                                 src="https://cdn.discordapp.com/icons/{{ guild.ID }}/{{ guild.Icon }}.jpg?size=256">
                        {% else %}
                            {% image '@RobyulWebBundle/Resources/public/images/placeholder_icon.jpg' output='static/images/placeholder_icon.jpg' %}
                            <img class="profile-big-avatar" src="{{ asset_url }}">
                            {% endimage %}
                        {% endif %}
                        </p>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}
